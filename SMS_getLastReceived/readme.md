

目的: 当手机接收到短信 , 马上能获取到手机最后一条短信


方法一:

广播的方式 , 注册接收器处理系统广播`android.provider.Telephony.SMS_RECEIVED`
且把优先级调高 , 这样每次手机收到就能用接收器来处理端消息

但这种方法, 已经失效,  即使设置filter优先级再高也没有用


方法二:
contentResolver 可以用来读取系统数据库很实用 , contentResolver读取的uri对应地址可以理解为数据中的表

除了contentResolver 外, 还有个ContentObserver  这个很实用,  当数据库发生变化就会触发 

所以, 用ContentObserver 用来判断事件 是否短信数据库发生变化,  结合ContentObserver 来读取最后一条短信

就能实现当短信收到时, 读取消息

当能读取消息了, 就可以判断`发送号码`, 来过滤是否是感兴趣的消息


---

方法一虽然行不通, 但是这个例子里面还是保留了方法一的代码...
在这个代码例子中还有尝试直接删除读取到的短信, 这个是行不通的 ... 而且会应用崩溃, 注释掉删除短信的几行即可